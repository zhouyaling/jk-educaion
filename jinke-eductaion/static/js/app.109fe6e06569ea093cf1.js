webpackJsonp([1],{0:function(e,t){},"0h3H":function(e,t){},"7Otq":function(e,t,i){e.exports=i.p+"static/img/logo.25985d4.png"},Lzhg:function(e,t,i){e.exports=i.p+"static/img/panel-tip.7bce6da.png"},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")({name:"App"},s,!1,function(e){i("o8nZ")},null,null).exports,o=i("/ocq"),r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page"},[t("div",{staticClass:"title-box"},[t("div",[t("span",{staticClass:"title-tip"}),this._v(" "),t("div",{staticClass:"title"},[this._v("名师进金科，我们来了！")])]),this._v(" "),t("div",{staticClass:"sub-title reset-sub"},[this._v("TEACHER ENTERED JINKE,HERE WE ARE.")])]),this._v(" "),t("div",{staticClass:"video-list"})])}]};var l=i("VU/8")({name:"Home",components:{},data:function(){return{}}},r,!1,function(e){i("ybS/")},"data-v-d2a70ecc",null).exports,c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-top-bar"},[i("div",{staticClass:"top-bar-close",on:{click:function(t){return e.closeTip()}}}),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"top-bar-btn"},[i("span",{on:{click:function(t){return e.openApp()}}},[e._v("打开APP")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-bar-left"},[t("div",{staticClass:"logo"},[t("img",{attrs:{src:i("7Otq"),alt:"大社区"}})]),this._v(" "),t("div",{staticClass:"text"},[t("span",[this._v("大社区")]),this._v(" "),t("span",[this._v("美好你的生活")])])])}]};var d=i("VU/8")({name:"TopBar",data:function(){return{}},methods:{closeTip:function(){this.$emit("close")},openApp:function(){this.$emit("open")}}},c,!1,function(e){i("QlF4")},"data-v-2b476e38",null).exports,p=i("162o"),v={name:"Detail",components:{TopBar:d},data:function(){return{basicUrl:"http://dev-communityv5.tq-service.com",videoId:0,playedTimes:0,allowPlayTimes:6e4,upMark:!1,showTipBar:!0,timer1:null,myPlayer:null,androidAppUrl:"pgf63h://jkcommunity",iosAppUrl:"pgf63h://jkcommunity",showPanelTip:!1,videoInfo:{videoUrl:"test",playNum:0,synopsisStart:"",synopsisEnd:"",synopsisUrl:"",title:""}}},mounted:function(){this.getVideoInfo()},beforeDestroy:function(){window.clearInterval(this.timer1)},methods:{getVideoInfo:function(){var e=this;e.videoId=this.$route.query.id,this.$axios({method:"post",url:e.basicUrl+"/community_admin/video/videoDetails",data:this.qs.stringify({videoId:e.videoId})}).then(function(t){200==t.data.errcode&&(e.videoInfo=t.data.data,Object(p.setTimeout)(function(){e.initVideo()},1e3))}).catch(function(e){console.log(e)})},initVideo:function(){var e=this;e.myPlayer=e.$video(myVideo,{controls:!0,autoplay:"muted",preload:"auto"}),e.myPlayer.on("play",function(){e.timer1=setInterval(function(){e.changePlayedTimes()},1e3)}),e.myPlayer.on("ended",function(){window.clearInterval(e.timer1)}),e.myPlayer.on("pause",function(){window.clearInterval(e.timer1)})},changePlayedTimes:function(){this.playedTimes+=1e3,this.playedTimes>=this.allowPlayTimes&&(this.myPlayer.pause(),window.clearInterval(this.timer1))},check:function(){this.upMark=!this.upMark},closeBar:function(){this.showTipBar=!1},openApp:function(){var e=this.GetMobelType();if(e.android)if(e.weixin)window.location.href="http://www.tq-service.com/jkpros/download/index.html";else{var t=Date.now(),i=document.createElement("iframe");i.src=this.androidAppUrl,i.style.display="none",document.body.appendChild(i),Object(p.setTimeout)(function(){var e=Date.now();(!t||e-t<3600)&&(document.body.removeChild(i),window.location.href="http://www.tq-service.com/jkpros/download/index.html")},3300)}else(e.ios||e.iPhone||e.iPad)&&(window.location.href="https://apps.apple.com/cn/app/%E5%A4%A7%E7%A4%BE%E5%8C%BA-%E7%BE%8E%E5%A5%BD%E9%82%BB%E9%87%8C/id1469761895")},GetMobelType:function(){var e;return{versions:(e=window.navigator.userAgent,{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,Alipay:e.indexOf("Alipay")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML"),mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1,iPad:e.indexOf("iPad")>-1,webApp:-1==e.indexOf("Safari"),weixin:e.indexOf("MicroMessenger")>-1,qq:null!==e.match(/\sQQ/i),Safari:e.indexOf("Safari")>-1})}.versions}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("TopBar",{directives:[{name:"show",rawName:"v-show",value:e.showTipBar,expression:"showTipBar"}],on:{close:e.closeBar,open:e.openApp}}),e._v(" "),n("div",[n("div",{staticClass:"video-box",class:e.playedTimes>=e.allowPlayTimes?"spec":""},[n("video",{directives:[{name:"show",rawName:"v-show",value:!e.showPanelTip,expression:"!showPanelTip"}],staticClass:"video-js video-js-box",attrs:{id:"myVideo","x5-playsinline":"",playsinline:"true","webkit-playsinline":"true"}},[n("source",{attrs:{src:e.videoInfo.videoUrl,type:"video/mp4"}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.playedTimes>=e.allowPlayTimes,expression:"playedTimes>=allowPlayTimes"}],staticClass:"video-box-panel"})]),e._v(" "),n("div",{staticClass:"video-bottom-bar"},[n("span",{on:{click:function(t){return e.openApp()}}},[e._v("打开APP，查看完整视频")]),e._v(" "),n("span",{staticClass:"bar-more"})])]),e._v(" "),n("div",{staticClass:"title-info"},[n("div",{staticClass:"title"},[e._v(e._s(e.videoInfo.title))]),e._v(" "),n("div",{staticClass:"sub-title margin-top-12"},[e._v("播放次数 "+e._s(e.videoInfo.playNum))])]),e._v(" "),n("div",{staticClass:"video-content"},[n("div",[n("span",{staticClass:"content-title"},[e._v("视频简介")]),e._v(" "),n("span",{staticClass:"content-action",class:e.upMark?"action-up":"",on:{click:function(t){return e.check()}}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.upMark,expression:"!upMark"}],staticClass:"content-htmls"},[n("p",[e._v(e._s(e.videoInfo.synopsisStart))]),e._v(" "),n("img",{attrs:{src:e.videoInfo.synopsisUrl,alt:""}}),e._v(" "),n("p",[e._v(e._s(e.videoInfo.synopsisEnd))])])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showPanelTip,expression:"showPanelTip"}],staticClass:"panel-tip"},[n("img",{attrs:{src:i("Lzhg"),alt:""}})])],1)},staticRenderFns:[]};var m=i("VU/8")(v,u,!1,function(e){i("lESK"),i("yBYZ")},"data-v-2ddcf192",null).exports;n.a.use(o.a);var f=new o.a({routes:[{path:"/detail",name:"detail",component:m},{path:"/Home",name:"Home",component:l}]}),h=i("mtWM"),w=i.n(h),y=i("mw3O"),_=i.n(y),x=i("63pp");i("g3Gj"),i("0h3H");n.a.config.productionTip=!1,n.a.prototype.$axios=w.a,n.a.prototype.$video=x.a,n.a.prototype.qs=_.a,new n.a({el:"#app",router:f,components:{App:a},template:"<App/>"})},QlF4:function(e,t){},g3Gj:function(e,t){},lESK:function(e,t){},o8nZ:function(e,t){},yBYZ:function(e,t){},"ybS/":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.109fe6e06569ea093cf1.js.map